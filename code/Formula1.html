<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- D3 library -->
    <script src="https://d3js.org/d3.v5.js"></script>
    <!-- D3 library that converts TopoJson to GeoJson -->
    <script src="https://d3js.org/topojson.v1.min.js"></script>
    <style>
        /* path {
            fill: none;
            stroke-width: 1px;
            stroke: #222;
        } */
        .country {
            fill: rgb(187, 185, 185);
            stroke: yellow;
            stroke-width: 0.5;
        }
    </style>
    <title>Formula 1 Data Analysis</title>
</head>
<body>
    <!-- <svg width="800" height="600">
        <g id="mapLayer"></g>
    </svg> -->
    <svg></svg>
</body>
    <script type="text/javascript">
        async function worldmap(){
            let width = 900;
            let height = 600;

            let svg = d3.select("svg")
                .attr("width", width)
                .attr("height", height);
            
            // the projection is the way the map is projected on the screen
            let projection = d3.geoMercator()
                .scale([150])
                .translate([width/2, height/1.3]);

            // the path is the way the map is drawn on the screen
            let path = d3.geoPath(projection);

            // grouping of all the path of the countries
            let g = svg.append('g');
                // .attr("id", "mapLayer");
            
            d3.json('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json')
                .then(data => {

                let countries = topojson.feature(data, data.objects.countries);
                g.selectAll('path')
                    .data(countries.features)
                    .enter()
                    // th
                    .append('path')
                    .attr('class', 'country')
                    .attr('d', path)
                });
            }
        worldmap();
    </script>
</html>